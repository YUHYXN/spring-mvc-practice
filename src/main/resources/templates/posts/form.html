<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title th:text="${pageTitle}">ìƒˆ ê¸€ ì‘ì„±</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
      Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 8px;
      margin-bottom: 20px;
      transition: all 0.3s;
    }

    .back-button:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateX(-5px);
    }

    .form-container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    }

    .form-header {
      margin-bottom: 30px;
    }

    .form-header h1 {
      color: #667eea;
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .form-header p {
      color: #7f8c8d;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #2c3e50;
      font-weight: 600;
      font-size: 14px;
    }

    .required {
      color: #e74c3c;
    }

    .form-group input[type='text'],
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 14px;
      border: 2px solid #e1e8ed;
      border-radius: 10px;
      font-size: 15px;
      transition: all 0.3s;
      font-family: inherit;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .form-group textarea {
      min-height: 200px;
      resize: vertical;
    }

    .file-input-wrapper {
      position: relative;
      overflow: hidden;
      display: inline-block;
      width: 100%;
    }

    .file-input-wrapper input[type='file'] {
      position: absolute;
      left: -9999px;
    }

    .file-input-label {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 14px;
      border: 2px dashed #e1e8ed;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      color: #7f8c8d;
    }

    .file-input-label:hover {
      border-color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }

    .file-name {
      margin-top: 10px;
      font-size: 14px;
      color: #667eea;
    }

    .form-actions {
      display: flex;
      gap: 10px;
      margin-top: 30px;
    }

    .btn {
      padding: 14px 28px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      transition: all 0.3s;
      display: inline-block;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-outline {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .btn-outline:hover {
      background: #667eea;
      color: white;
    }

    .help-text {
      font-size: 13px;
      color: #7f8c8d;
      margin-top: 5px;
    }

    @media (max-width: 768px) {
      .form-container {
        padding: 25px;
      }

      .form-actions {
        flex-direction: column;
      }

      .btn {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <a href="/posts" class="back-button"> â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸° </a>

  <div class="form-container">
    <div class="form-header">
      <h1>âœï¸ ìƒˆ ê¸€ ì‘ì„±</h1>
      <p>ë©‹ì§„ ì´ì•¼ê¸°ë¥¼ ê³µìœ í•´ë³´ì„¸ìš”!</p>
    </div>

    <form action="/posts" method="post" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">ì œëª© <span class="required">*</span></label>
        <input
            type="text"
            id="title"
            name="title"
            placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"
            required
        />
      </div>

      <div class="form-group">
        <label for="content">ë‚´ìš© <span class="required">*</span></label>
        <textarea
            id="content"
            name="content"
            placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"
            required
        ></textarea>
        <p class="help-text">ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
      </div>

      <div class="form-group">
        <label for="author">ì‘ì„±ì <span class="required">*</span></label>
        <input
            type="text"
            id="author"
            name="author"
            placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
            required
        />
      </div>

      <div class="form-group">
        <label for="category"
        >ì¹´í…Œê³ ë¦¬ <span class="required">*</span></label
        >
        <select id="category" name="category" required>
          <option value="">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
          <option
              th:each="cat : ${categories}"
              th:value="${cat}"
              th:text="${cat.displayName}"
          ></option>
        </select>
      </div>

      <div class="form-group">
        <label>ì¸ë„¤ì¼ ì´ë¯¸ì§€</label>
        <div class="file-input-wrapper">
          <input
              type="file"
              multiple
              id="thumbnail"
              name="thumbnail"
              accept="image/*"
              onchange="showFileName(this)"
          />
          <label for="thumbnail" class="file-input-label">
            ğŸ“ íŒŒì¼ ì„ íƒ
          </label>
        </div>
        <p class="file-name" id="fileName"></p>
        <p class="help-text">ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥ (ìµœëŒ€ 5MB)</p>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn">ì‘ì„± ì™„ë£Œ</button>
        <a href="/posts" class="btn btn-outline">ì·¨ì†Œ</a>
      </div>
    </form>
  </div>
</div>

<script>
  function showFileName(input) {
    const fileName = document.getElementById('fileName');
    if (input.files && input.files[0]) {
      fileName.textContent = 'ì„ íƒëœ íŒŒì¼: ' + input.files[0].name;
    } else {
      fileName.textContent = '';
    }
  }
</script>
</body>
</html>
